{"posts": [{"title": "SSH\u514d\u5bc6\u767b\u5f55OpenWRT\u8def\u7531\u5668\u5e76\u6267\u884c\u547d\u4ee4", "date": "2021-09-07T19:30:00-00.00", "path": "/archives/ssh_autologin/", "text": "Dropbear\n\u524d\u8a00\nDropbear\u662f\u4e00\u6b3e\u57fa\u4e8essh\u534f\u8bae\u7684\u8f7b\u91cfsshd\u670d\u52a1\u5668\uff0c\u4e0eOpenSSH\u76f8\u6bd4\uff0c\u4ed6\u66f4\u7b80\u6d01\uff0c\u66f4\u5c0f\u5de7\uff0c\u8fd0\u884c\u8d77\u6765\u5360\u7528\u7684\u5185\u5b58\u4e5f\u66f4\u5c11\u3002\n\u6bcf\u4e00\u4e2a\u666e\u901a\u7528\u6237\u767b\u5f55\uff0cOpenSSH\u4f1a\u5f00\u4e24\u4e2asshd\u8fdb\u7a0b\uff0c\u800cdropbear\u53ea\u5f00\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u6240\u4ee5\u5176\u5bf9\u786c\u4ef6\u8981\u6c42\u66f4\u4f4e\uff0c\u4e5f\u66f4\u5229\u4e8e\u7cfb\u7edf\u7684\u8fd0\u884c\u3002\nDropbear\u5e38\u7528\u4e8e\u201c\u5d4c\u5165\u201d\u5f0f\u7684Linux\uff08\u6216\u5176\u4ed6Unix\uff09\u7cfb\u7edf\uff0cOpenWRT \u8def\u7531\u7cfb\u7edf\u5c31\u662f\u5176\u4e2d\u4e4b\u4e00\n\u914d\u7f6e ssh \u5bc6\u94a5\nssh-keygen -t rsa\n\u8fde\u7eed\u4e09\u6b21\u56de\u8f66,\u5373\u5728\u672c\u5730\u4e3b\u673a\u4e0a\u751f\u6210\u4e86\u516c\u94a5\u548c\u79c1\u94a5,\u4e0d\u8bbe\u7f6e\u5bc6\u7801\n\ncat ~/.ssh/id_rsa.pub | ssh -p 1022 root@192.168.168.1 'cat &gt;&gt; /etc/dropbear/authorized_keys'\n\u5c06\u672c\u5730\u5bc6\u94a5\u5199\u5165\u5230\u8def\u7531\u4fe1\u4efb\u5217\u8868\u5185\n\n\u6d4b\u8bd5\u514d\u5bc6\u767b\u5f55\u8def\u7531\u5668\u5e76\u6267\u884c\u547d\u4ee4\nssh -p 1022 root@192.168.168.1 \"touch /root/test ; ls\"\n\u914d\u7f6e crontab \u5b9a\u65f6\u6267\u884c\u547d\u4ee4\ncrontab -e\n#\u51cc\u66684\u70b9\u91cd\u542f\u8def\u7531+5\u70b9\u8fdb\u884c\u65f6\u95f4\u540c\u6b65\n0 4 * * * ssh -p 1022 root@192.168.168.1 &quot;reboot&quot;\n0 5 * * * ssh -p 1022 root@192.168.168.1 &quot;ntpd -n -q -p ntp.aliyun.com&quot;\n\n\u53c2\u8003\nhttps://www.jqhtml.com/61355.html\n", "categories": [{"name": "\u9ed8\u8ba4\u5206\u7c7b", "slug": "\u9ed8\u8ba4\u5206\u7c7b", "permalink": "/category/\u9ed8\u8ba4\u5206\u7c7b/"}], "tags": [{"name": "Linux", "slug": "Linux", "permalink": "/tag/Linux/"}, {"name": "OpenWRT", "slug": "OpenWRT", "permalink": "/tag/OpenWRT/"}]}, {"title": "Linux\u7cfb\u7edf\u4e0b\u4f7f\u7528 rsync \u4ee3\u66ff cp", "date": "2021-09-07T16:50:00-00.00", "path": "/archives/rsync/", "text": "rsync\nrsync \u662f\u4e00\u4e2a\u5e38\u7528\u7684 Linux \u5e94\u7528\u7a0b\u5e8f\uff0c\u7528\u4e8e\u6587\u4ef6\u540c\u6b65\u3002\n\u5b83\u53ef\u4ee5\u5728\u672c\u5730\u8ba1\u7b97\u673a\u4e0e\u8fdc\u7a0b\u8ba1\u7b97\u673a\u4e4b\u95f4\uff0c\u6216\u8005\u4e24\u4e2a\u672c\u5730\u76ee\u5f55\u4e4b\u95f4\u540c\u6b65\u6587\u4ef6\u3002\u5b83\u4e5f\u53ef\u4ee5\u5f53\u4f5c\u6587\u4ef6\u590d\u5236\u5de5\u5177\uff0c\u66ff\u4ee3 cp \u548c mv \u547d\u4ee4\u3002\n\u663e\u793a\u5355\u4e2a\u6587\u4ef6\u8fdb\u5ea6\uff0c\u4fdd\u7559\u6587\u4ef6\u7684\u6743\u9650\nrsync -ah --progress /source /destination\n\n\u663e\u793a\u603b\u4f53\u8fdb\u5ea6\uff0c\u4fdd\u7559\u6587\u4ef6\u7684\u6743\u9650\nrsync -ah --info=progress2 --no-i-r /source/ /destination\n\n\u76ee\u6807\u76ee\u5f55destination\u5982\u679c\u4e0d\u5b58\u5728\uff0crsync \u4f1a\u81ea\u52a8\u521b\u5efa\u3002\u6267\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u540e\uff0c\u6e90\u76ee\u5f55source\u88ab\u5b8c\u6574\u5730\u590d\u5236\u5230\u4e86\u76ee\u6807\u76ee\u5f55destination\u4e0b\u9762\uff0c\u5373\u5f62\u6210\u4e86destination/source\u7684\u76ee\u5f55\u7ed3\u6784\u3002\n\u5982\u679c\u53ea\u60f3\u540c\u6b65\u6e90\u76ee\u5f55source\u91cc\u9762\u7684\u5185\u5bb9\u5230\u76ee\u6807\u76ee\u5f55destination\uff0c\u5219\u9700\u8981\u5728\u6e90\u76ee\u5f55\u540e\u9762\u52a0\u4e0a\u659c\u6760 / \u3002\n\n\n\u6587\u4ef6\u5939\u955c\u50cf\n\nrsync -ah --info=progress2 --no-i-r --delete /source/ /destination\n\u8bbe\u7f6e\u4e3a\u547d\u4ee4\u522b\u540d\uff0c\u65b9\u4fbf\u8c03\u7528\n\nalias cp=\"rsync -ah --progress\"\nalias rcp=\"rsync -ah --info=progress2 --no-i-r\"\nrsync \u5e38\u7528\u9009\u9879\uff1a\n-a \u9012\u5f52\u4f20\u8f93\u5e76\u4fdd\u6301\u6240\u6709\u6587\u4ef6\u5c5e\u6027\uff0c\u6700\u5e38\u7528\n-h \u4ee5\u4eba\u7c7b\u53ef\u8bfb\u7684\u683c\u5f0f\u8f93\u51fa\n-v \u8be6\u7ec6\u6a21\u5f0f\u8f93\u51fa\n-z \u6587\u4ef6\u5728\u4f20\u8f93\u65f6\u8fdb\u884c\u538b\u7f29\u5904\u7406\n--delete \u5220\u9664\u53ea\u5b58\u5728\u4e8e\u76ee\u6807\u76ee\u5f55\u3001\u4e0d\u5b58\u5728\u4e8e\u6e90\u76ee\u6807\u7684\u6587\u4ef6\uff0c\u5373\u4fdd\u8bc1\u76ee\u6807\u76ee\u5f55\u662f\u6e90\u76ee\u6807\u7684\u955c\u50cf\u3002\n\n\u53c2\u8003\uff1ahttp://www.ruanyifeng.com/blog/2020/08/rsync.html\n", "categories": [{"name": "\u9ed8\u8ba4\u5206\u7c7b", "slug": "\u9ed8\u8ba4\u5206\u7c7b", "permalink": "/category/\u9ed8\u8ba4\u5206\u7c7b/"}], "tags": [{"name": "Linux", "slug": "Linux", "permalink": "/tag/Linux/"}]}, {"title": "unRAID \u7cfb\u7edf\u4e0b\u865a\u62df\u673a\u9ed1\u7fa4\u8f89\u786c\u76d8\u65e0\u635f\u6269\u5bb9\u8bb0\u5f55", "date": "2021-09-07T15:20:00-00.00", "path": "/archives/qemu-img_resize/", "text": "0\uff09\u6d4b\u8bd5\u73af\u5883\n\u9ed1\u7fa4\u8f89DSM 6.1.X\uff0cBasic \u78c1\u76d8\uff0cbtrfs \u5206\u533a\u683c\u5f0f\n\u865a\u62df\u786c\u76d8\u4e3a img \u683c\u5f0f\uff0c\u539f\u59cb\u5bb9\u91cf 30G\n1\uff09\u8c03\u6574\u865a\u62df\u786c\u76d8\u5bb9\u91cf\n\u52a1\u5fc5\u865a\u62df\u673a\u5173\u673a\u60c5\u51b5\u4e0b\u518d\u64cd\u4f5c\nqemu-img resize 30G.img -- +70G\n\u4f7f\u7528 qemu-img \u547d\u4ee4\u7ed9\u865a\u62df\u786c\u76d8\u589e\u52a0 70G \u5bb9\u91cf\n\n2\uff09\u4f7f\u7528 fdisk \u65e0\u635f\u6269\u5bb9\nfdisk 30G.img\n\u5177\u4f53\u64cd\u4f5c\u8bb0\u5f55\uff0c\u6ce8\u610f\u770b #\u53f7\u540e\u9762\u7684\u4e2d\u6587\u6ce8\u89e3\n\nWelcome to fdisk (util-linux 2.34).\nChanges will remain in memory only, until you decide to write them.\nBe careful before using the write command.\n\n\nCommand (m for help): p #\u67e5\u770b\u786c\u76d8\u4fe1\u606f\nDisk vdisk2.img: 100 GiB, 107374182400 bytes, 209715200 sectors\nUnits: sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisklabel type: dos\nDisk identifier: 0xed294359\n\nDevice      Boot   Start      End  Sectors  Size Id Type\nvdisk2.img1         2048  4982527  4980480  2.4G fd Linux raid autodetect\nvdisk2.img2      4982528  9176831  4194304    2G fd Linux raid autodetect\nvdisk2.img3      9437184 62709759 53272576 25.4G fd Linux raid autodetect  #\u8bb0\u5f55\u4e0b\u7b2c\u4e09\u5206\u533a\u7684\u5f00\u59cb\u4f4d\u7f6e 9437184\uff0c\u540e\u8fb9\u8981\u7528\u5230\n\nCommand (m for help): d #\u9996\u5148\u5220\u6389\u5206\u533a\nPartition number (1-3, default 3): \n\nPartition 3 has been deleted.\n\nCommand (m for help): n #\u7136\u540e\u65b0\u5efa\u4e00\u4e2a\uff0c\u6309\u9ed8\u8ba4\u9009\u4e3b\u5206\u533a\u8ddf\u7f16\u53f7\u5373\u53ef\nPartition type\n   p   primary (2 primary, 0 extended, 2 free)\n   e   extended (container for logical partitions)\nSelect (default p): \n\nUsing default response p.\nPartition number (3,4, default 3): \nFirst sector (9176832-209715199, default 9177088): 9437184 #\u8fd9\u91cc\u662f\u65e0\u635f\u6269\u5bb9\u7684\u5173\u952e\uff0c\u5fc5\u987b\u4e0d\u80fd\u586b\u9519\nLast sector, +/-sectors or +/-size{K,M,G,T,P} (9437184-209715199, default 209715199): \n\nCreated a new partition 3 of type &#39;Linux&#39; and of size 95.5 GiB.\nPartition #3 contains a linux_raid_member signature.\n\nDo you want to remove the signature? [Y]es/[N]o: n # \u5fc5\u987b\u9009 N \uff0c\u4e0d\u8981\u79fb\u9664\u7b7e\u540d\n\nCommand (m for help): p #\u518d\u6b21\u67e5\u770b\u4fe1\u606f\u5df2\u7ecf\u770b\u5230\u5206\u533a\u662f\u6269\u5bb9\u72b6\u6001\n\nDisk vdisk2.img: 100 GiB, 107374182400 bytes, 209715200 sectors\nUnits: sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisklabel type: dos\nDisk identifier: 0xed294359\n\nDevice      Boot   Start       End   Sectors  Size Id Type\nvdisk2.img1         2048   4982527   4980480  2.4G fd Linux raid autodetect\nvdisk2.img2      4982528   9176831   4194304    2G fd Linux raid autodetect\nvdisk2.img3      9437184 209715199 200278016 95.5G 83 Linux\n\nCommand (m for help): w #\u6700\u540e\u6309 w \u4fdd\u5b58\u5206\u533a\u8868\nThe partition table has been altered.\nSyncing disks.\n\n3\uff09\u6253\u5f00\u865a\u62df\u673a\uff0c\u4f7f\u7528 \u5b58\u50a8\u7a7a\u95f4\u7ba1\u7406\u5458 \u6269\u5bb9\u5373\u53ef\n\u70b9 \u7ba1\u7406\uff0c\u6309\u63d0\u793a\u64cd\u4f5c\n\u5b58\u50a8\u7a7a\u95f4\u7ba1\u7406\u5458\n", "categories": [{"name": "\u9ed8\u8ba4\u5206\u7c7b", "slug": "\u9ed8\u8ba4\u5206\u7c7b", "permalink": "/category/\u9ed8\u8ba4\u5206\u7c7b/"}], "tags": [{"name": "unRAID", "slug": "unRAID", "permalink": "/tag/unRAID/"}, {"name": "NAS", "slug": "NAS", "permalink": "/tag/NAS/"}]}, {"title": "\u6211\u7684\u7b2c\u4e00\u7bc7\u6587\u7ae0", "date": "2021-09-07T14:20:00-00.00", "path": "/archives/my-first-awesome-post/", "text": "\u8fd9\u662f\u6211\u7684\u7b2c\u4e00\u7bc7\u6587\u7ae0\u3002\u6587\u7ae0\u4f7f\u7528 GitHub \u7ba1\u7406\uff0c\u5e76\u901a\u8fc7 GitHub Actions \u81ea\u52a8\u6784\u5efa\u4e0e\u53d1\u5e03\uff01\n\u5e7d\u7075\u516c\u4e3b\u5267\u7167\n", "categories": [{"name": "\u9ed8\u8ba4\u5206\u7c7b", "slug": "\u9ed8\u8ba4\u5206\u7c7b", "permalink": "/category/\u9ed8\u8ba4\u5206\u7c7b/"}], "tags": [{"name": "\u535a\u5ba2", "slug": "\u535a\u5ba2", "permalink": "/tag/\u535a\u5ba2/"}, {"name": "Maverick", "slug": "Maverick", "permalink": "/tag/Maverick/"}, {"name": "GitHub", "slug": "GitHub", "permalink": "/tag/GitHub/"}]}], "pages": [{"title": "\u5173\u4e8e", "date": "2021-09-08T09:20:00-00.00", "path": "/about/", "text": "\u4e24\u4e2a\u4e3b\u5b50\n\u8fd9\u91cc\u662f\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\uff0c\u901a\u8fc7 GitHub \u4e0a\u7684 Maverick \u9879\u76ee\u7ba1\u7406\u4e0e\u6784\u5efa\u3002\n90\u540e\u5929\u874e\u5ea7\u5b85\u7537\uff0c\u517b\u4e86\u4e24\u53ea\u7530\u56ed\u732b\u3002\u5e76\u975e\u7a0b\u5e8f\u733f\u4e0d\u8fc7\u559c\u6b22\u6298\u817e\u7535\u8111\uff0c\u7136\u800c\u5bf9\u4ee3\u7801\u4e00\u7a8d\u4e0d\u901a\u3002\n\u6700\u503c\u5f97\u81ea\u8c6a\u7684\u5c31\u662f\u673a\u7f18\u5de7\u5408\u4e0b\u505a\u8fc7\u4e00\u4e9b\u6e38\u620f\u7684\u6c49\u5316\u3002\n\u7279\u957f\u6280\u80fd\n\u672c\u4eba\u64c5\u957fAi\u3001Fw\u3001FI\u3001Br\u3001Ae\u3001Pr\u3001Id\u3001Ps\u3001CDR\u30013DSMAX\u3001AUTOCAD\u3001C4D\u7b49\u8f6f\u4ef6\u7684\u5b89\u88c5\u4e0e\u5378\u8f7d\uff0c\n\u7cbe\u901aCSS\u3001JavaScript\u3001PHP\u3001ASP\u3001C\u3001C++\u3001C#\u3001Java\u3001VB\u3001Go\u3001Ruby\u3001Perl\u3001Lisp\u3001python\u3001Objective-C\u3001ActionScript\u3001Pascal\u3001spss\u3001sas\u3001MySQL\u7b49\u5355\u8bcd\u7684\u62fc\u5199\uff0c\n\u719f\u6089Windows\u3001Linux\u3001Mac\u3001Android\u3001IOS\u3001WP8\u7b49\u7cfb\u7edf\u7684\u5f00\u5173\u673a\u3002\n", "categories": [], "tags": []}]}